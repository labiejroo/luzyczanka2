{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0db06f0dedc477de1b41","webpack:///./src/react-image-parallax.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}"],"names":["NoOverFlow","children","overflow","ImageParallax","props","onImageLoad","clientHeight","target","setState","imageHeight","setTimeout","onScroll","state","scale","screenHeight","window","innerHeight","offsetTop","fold","getBoundingClientRect","top","ratio","Math","min","max","moveDown","addEventListener","removeEventListener","elem","y","propTypes","func","isRequired","number"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACtCA;;;;;;;;;;;;AAEA,KAAMA,aAAa,SAAbA,UAAa;AAAA,OAAGC,QAAH,QAAGA,QAAH;AAAA,UACjB;AAAA;AAAA,OAAK,OAAO,EAAEC,UAAU,QAAZ,EAAZ;AACGD;AADH,IADiB;AAAA,EAAnB;;KAKqBE,a;;;AAMnB,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,+HACXA,KADW;;AAAA,WAQnBC,WARmB,GAQL,iBAAgC;AAAA,WAApBC,YAAoB,SAA7BC,MAA6B,CAApBD,YAAoB;;AAC5C,aAAKE,QAAL,CAAc;AACZC,sBAAaH;AADD,QAAd;AAGAI,kBAAW,YAAM;AACf,eAAKC,QAAL;AACD,QAFD;AAGD,MAfkB;;AAAA,WAqBnBA,QArBmB,GAqBR,YAAM;AAAA,WACPF,WADO,GACS,MAAKG,KADd,CACPH,WADO;AAAA,WAEPI,KAFO,GAEG,MAAKT,KAFR,CAEPS,KAFO;;AAGf,WAAMC,eAAeC,OAAOC,WAA5B;AACA,WAAMC,YAAY,MAAKC,IAAL,CAAUC,qBAAV,GAAkCC,GAApD;AACA,WAAMC,QAAQC,KAAKC,GAAL,CAAS,CAAT,EAAYD,KAAKE,GAAL,CAAS,CAAT,EAAY,CAACP,YAAYR,WAAb,KAA6BK,eAAeL,WAA5C,CAAZ,CAAZ,CAAd;AACA,WAAMgB,WAAW,CAACJ,QAAQ,IAAE,CAAX,KAAiB,IAAI,IAAER,KAAvB,IAAgCJ,WAAjD;AACA,aAAKD,QAAL,CAAc;AACZiB;AADY,QAAd;AAGD,MA/BkB;;AAEjB,WAAKb,KAAL,GAAa;AACXH,oBAAa,CADF;AAEXgB,iBAAU;AAFC,MAAb;AAFiB;AAMlB;;;;yCAWmB;AAClBV,cAAOW,gBAAP,CAAwB,QAAxB,EAAkC,KAAKf,QAAvC;AACD;;;4CAcsB;AACrBI,cAAOY,mBAAP,CAA2B,QAA3B,EAAqC,KAAKhB,QAA1C;AACD;;;8BAEQ;AAAA;;AAAA,WACCV,QADD,GACc,KAAKG,KADnB,CACCH,QADD;AAAA,WAECwB,QAFD,GAEc,KAAKb,KAFnB,CAECa,QAFD;;AAGP,cACE;AAAC,mBAAD;AAAA;AACE,iDAAM,KAAK,aAACG,IAAD;AAAA,oBAAU,OAAKV,IAAL,GAAYU,IAAtB;AAAA,YAAX,GADF;AAEI3B,kBAAS,EAAE4B,GAAGJ,QAAL,EAAT,EAA0B,KAAKpB,WAA/B;AAFJ,QADF;AAMD;;;;;;AApDkBF,c,CACZ2B,S,GAAY;AACjB7B,aAAU,iBAAU8B,IAAV,CAAeC,UADR;AAEjBnB,UAAO,iBAAUoB,MAAV,CAAiBD;AAFP,E;mBADA7B,a;;;;;;ACPrB,gD","file":"react-image-parallax.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactZoomImage\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactZoomImage\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0db06f0dedc477de1b41","import React, { Component, PropTypes } from 'react';\n\nconst NoOverFlow = ({ children }) =>\n  <div style={{ overflow: 'hidden' }}>\n    {children}\n  </div>;\n\nexport default class ImageParallax extends Component {\n  static propTypes = {\n    children: PropTypes.func.isRequired,\n    scale: PropTypes.number.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageHeight: 0,\n      moveDown: 0\n    };\n  }\n\n  onImageLoad = ({ target: {clientHeight} }) => {\n    this.setState({\n      imageHeight: clientHeight\n    });\n    setTimeout(() => {\n      this.onScroll();\n    });\n  };\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.onScroll);\n  }\n\n  onScroll = () => {\n    const { imageHeight } = this.state;\n    const { scale } = this.props;\n    const screenHeight = window.innerHeight;\n    const offsetTop = this.fold.getBoundingClientRect().top;\n    const ratio = Math.min(1, Math.max(0, (offsetTop + imageHeight) / (screenHeight + imageHeight)));\n    const moveDown = (ratio - 1/2) * (1 - 1/scale) * imageHeight;\n    this.setState({\n      moveDown\n    });\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n\n  render() {\n    const { children } = this.props;\n    const { moveDown } = this.state;\n    return (\n      <NoOverFlow>\n        <span ref={(elem) => this.fold = elem}></span>\n        { children({ y: moveDown }, this.onImageLoad) }\n      </NoOverFlow>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-image-parallax.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}