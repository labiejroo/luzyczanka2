{"ast":null,"code":"import _classCallCheck from \"/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/src/react-image-parallax.js\";\nimport React, { Component, PropTypes } from 'react';\n\nvar NoOverFlow = function NoOverFlow(_ref) {\n  var children = _ref.children;\n  return React.createElement(\"div\", {\n    style: {\n      overflow: 'hidden'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 4\n    },\n    __self: this\n  }, children);\n};\n\nvar ImageParallax =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ImageParallax, _Component);\n\n  function ImageParallax(props) {\n    var _this;\n\n    _classCallCheck(this, ImageParallax);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageParallax).call(this, props));\n\n    _this.onImageLoad = function (_ref2) {\n      var clientHeight = _ref2.target.clientHeight;\n\n      _this.setState({\n        imageHeight: clientHeight\n      });\n\n      setTimeout(function () {\n        _this.onScroll();\n      });\n    };\n\n    _this.onScroll = function () {\n      var imageHeight = _this.state.imageHeight;\n      var scale = _this.props.scale;\n      var screenHeight = window.innerHeight;\n\n      var offsetTop = _this.fold.getBoundingClientRect().top;\n\n      var ratio = Math.min(1, Math.max(0, (offsetTop + imageHeight) / (screenHeight + imageHeight)));\n      var moveDown = (ratio - 1 / 2) * (1 - 1 / scale) * imageHeight;\n\n      _this.setState({\n        moveDown: moveDown\n      });\n    };\n\n    _this.state = {\n      imageHeight: 0,\n      moveDown: 0\n    };\n    return _this;\n  }\n\n  _createClass(ImageParallax, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('scroll', this.onScroll);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this.onScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var children = this.props.children;\n      var moveDown = this.state.moveDown;\n      return React.createElement(NoOverFlow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        ref: function ref(elem) {\n          return _this2.fold = elem;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), children({\n        y: moveDown\n      }, this.onImageLoad));\n    }\n  }]);\n\n  return ImageParallax;\n}(Component);\n\nImageParallax.propTypes = {\n  children: PropTypes.func.isRequired,\n  scale: PropTypes.number.isRequired\n};\nexport { ImageParallax as default };","map":{"version":3,"sources":["/Users/pawellabuz/Documents/markostronaDEVELOPMENT/TinDog Completed Website/src/react-image-parallax.js"],"names":["React","Component","PropTypes","NoOverFlow","children","overflow","ImageParallax","props","onImageLoad","clientHeight","target","setState","imageHeight","setTimeout","onScroll","state","scale","screenHeight","window","innerHeight","offsetTop","fold","getBoundingClientRect","top","ratio","Math","min","max","moveDown","addEventListener","removeEventListener","elem","y","propTypes","func","isRequired","number"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,QAA4C,OAA5C;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SACjB;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,QADH,CADiB;AAAA,CAAnB;;IAKqBE,a;;;;;AAMnB,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;;AADiB,UAQnBC,WARmB,GAQL,iBAAgC;AAAA,UAApBC,YAAoB,SAA7BC,MAA6B,CAApBD,YAAoB;;AAC5C,YAAKE,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAEH;AADD,OAAd;;AAGAI,MAAAA,UAAU,CAAC,YAAM;AACf,cAAKC,QAAL;AACD,OAFS,CAAV;AAGD,KAfkB;;AAAA,UAqBnBA,QArBmB,GAqBR,YAAM;AAAA,UACPF,WADO,GACS,MAAKG,KADd,CACPH,WADO;AAAA,UAEPI,KAFO,GAEG,MAAKT,KAFR,CAEPS,KAFO;AAGf,UAAMC,YAAY,GAAGC,MAAM,CAACC,WAA5B;;AACA,UAAMC,SAAS,GAAG,MAAKC,IAAL,CAAUC,qBAAV,GAAkCC,GAApD;;AACA,UAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,GAAL,CAAS,CAAT,EAAY,CAACP,SAAS,GAAGR,WAAb,KAA6BK,YAAY,GAAGL,WAA5C,CAAZ,CAAZ,CAAd;AACA,UAAMgB,QAAQ,GAAG,CAACJ,KAAK,GAAG,IAAE,CAAX,KAAiB,IAAI,IAAER,KAAvB,IAAgCJ,WAAjD;;AACA,YAAKD,QAAL,CAAc;AACZiB,QAAAA,QAAQ,EAARA;AADY,OAAd;AAGD,KA/BkB;;AAEjB,UAAKb,KAAL,GAAa;AACXH,MAAAA,WAAW,EAAE,CADF;AAEXgB,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAFiB;AAMlB;;;;wCAWmB;AAClBV,MAAAA,MAAM,CAACW,gBAAP,CAAwB,QAAxB,EAAkC,KAAKf,QAAvC;AACD;;;2CAcsB;AACrBI,MAAAA,MAAM,CAACY,mBAAP,CAA2B,QAA3B,EAAqC,KAAKhB,QAA1C;AACD;;;6BAEQ;AAAA;;AAAA,UACCV,QADD,GACc,KAAKG,KADnB,CACCH,QADD;AAAA,UAECwB,QAFD,GAEc,KAAKb,KAFnB,CAECa,QAFD;AAGP,aACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,GAAG,EAAE,aAACG,IAAD;AAAA,iBAAU,MAAI,CAACV,IAAL,GAAYU,IAAtB;AAAA,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEI3B,QAAQ,CAAC;AAAE4B,QAAAA,CAAC,EAAEJ;AAAL,OAAD,EAAkB,KAAKpB,WAAvB,CAFZ,CADF;AAMD;;;;EApDwCP,S;;AAAtBK,a,CACZ2B,S,GAAY;AACjB7B,EAAAA,QAAQ,EAAEF,SAAS,CAACgC,IAAV,CAAeC,UADR;AAEjBnB,EAAAA,KAAK,EAAEd,SAAS,CAACkC,MAAV,CAAiBD;AAFP,C;SADA7B,a","sourcesContent":["import React, { Component, PropTypes } from 'react';\n\nconst NoOverFlow = ({ children }) =>\n  <div style={{ overflow: 'hidden' }}>\n    {children}\n  </div>;\n\nexport default class ImageParallax extends Component {\n  static propTypes = {\n    children: PropTypes.func.isRequired,\n    scale: PropTypes.number.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageHeight: 0,\n      moveDown: 0\n    };\n  }\n\n  onImageLoad = ({ target: {clientHeight} }) => {\n    this.setState({\n      imageHeight: clientHeight\n    });\n    setTimeout(() => {\n      this.onScroll();\n    });\n  };\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.onScroll);\n  }\n\n  onScroll = () => {\n    const { imageHeight } = this.state;\n    const { scale } = this.props;\n    const screenHeight = window.innerHeight;\n    const offsetTop = this.fold.getBoundingClientRect().top;\n    const ratio = Math.min(1, Math.max(0, (offsetTop + imageHeight) / (screenHeight + imageHeight)));\n    const moveDown = (ratio - 1/2) * (1 - 1/scale) * imageHeight;\n    this.setState({\n      moveDown\n    });\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n\n  render() {\n    const { children } = this.props;\n    const { moveDown } = this.state;\n    return (\n      <NoOverFlow>\n        <span ref={(elem) => this.fold = elem}></span>\n        { children({ y: moveDown }, this.onImageLoad) }\n      </NoOverFlow>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}